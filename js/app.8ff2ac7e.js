(function(e){function t(t){for(var a,o,s=t[0],i=t[1],u=t[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/sound-flow/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1259:function(e,t,n){"use strict";n("373b")},1369:function(e,t,n){},1929:function(e,t,n){},2152:function(e,t,n){"use strict";n("90ad")},"25a8":function(e,t,n){"use strict";n("5a54")},"373b":function(e,t,n){},"395a":function(e,t,n){e.exports=n.p+"img/control-repeat.1b31dc56.svg"},"3a78":function(e,t,n){},"411c":function(e,t,n){"use strict";n("1929")},4264:function(e,t,n){},"5a54":function(e,t,n){},"6bad":function(e,t,n){"use strict";n("ddc6")},"6de0":function(e,t,n){"use strict";n("1369")},"8ba3":function(e,t,n){e.exports=n.p+"img/control-back.5fcd24e1.svg"},"90ad":function(e,t,n){},b4e8:function(e,t,n){"use strict";n("3a78")},cab9:function(e,t,n){e.exports=n.p+"img/control-shuffle.aa0319cb.svg"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(e,t){var n=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createBlock"])(n)}n("2152");var c=n("6b0d"),o=n.n(c);const s={},i=o()(s,[["render",r]]);var u=i,l=n("6c02"),p={key:1,class:"home"};function d(e,t,n,r,c,o){var s=Object(a["resolveComponent"])("CircleLoader"),i=Object(a["resolveComponent"])("ControlBar");return this.loading?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0})):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",p,[Object(a["createVNode"])(i)]))}var m=n("1da1"),f=n("bee2"),b=n("d4ec"),h=n("262e"),v=n("2caf"),y=(n("d3b7"),n("96cf"),n("9ab4")),g=n("ce1f");function k(e,t,n,r,c,o){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span")}var _=function(e){Object(h["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n)}(g["b"]);n("25a8");const O=o()(_,[["render",k],["__scopeId","data-v-dcff6744"]]);var j=O,T=function(e){return Object(a["pushScopeId"])("data-v-206fd301"),e=e(),Object(a["popScopeId"])(),e},w={class:"control-bar"},x=T((function(){return Object(a["createElementVNode"])("div",{class:"cb-left"},null,-1)})),S={class:"cb-center"},E=T((function(){return Object(a["createElementVNode"])("div",{class:"cb-right"},null,-1)}));function P(e,t,n,r,c,o){var s=Object(a["resolveComponent"])("ControlButtons"),i=Object(a["resolveComponent"])("ControlPlayback");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",w,[x,Object(a["createElementVNode"])("div",S,[Object(a["createVNode"])(s),Object(a["createVNode"])(i)]),E])}var C={class:"cb-buttons"};function N(e,t,r,c,o,s){var i=Object(a["resolveComponent"])("inline-svg");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",C,[Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])(["cb-shuffle",{active:this.$store.state.player.playback_state.shuffle}]),onClick:t[0]||(t[0]=function(){return e.toggleShuffle&&e.toggleShuffle.apply(e,arguments)})},[Object(a["createVNode"])(i,{src:n("cab9"),width:"30",height:"30"},null,8,["src"])],2),Object(a["createElementVNode"])("button",{class:"cb-back",onClick:t[1]||(t[1]=function(){return e.previousTrack&&e.previousTrack.apply(e,arguments)})},[Object(a["createVNode"])(i,{src:n("8ba3"),width:"20",height:"20"},null,8,["src"])]),Object(a["createElementVNode"])("button",{class:"cb-playpause",onClick:t[2]||(t[2]=function(){return e.playPause&&e.playPause.apply(e,arguments)})},[this.$store.state.player.playback_state.paused?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,src:n("d08e"),width:"35",height:"35"},null,8,["src"])):(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:1,src:n("dd7f"),width:"35",height:"35"},null,8,["src"]))]),Object(a["createElementVNode"])("button",{class:"cb-forward",onClick:t[3]||(t[3]=function(){return e.nextTrack&&e.nextTrack.apply(e,arguments)})},[Object(a["createVNode"])(i,{src:n("ce1e"),width:"20",height:"20"},null,8,["src"])]),Object(a["createElementVNode"])("button",{class:Object(a["normalizeClass"])(["cb-repeat",[{active:0!==this.$store.state.player.playback_state.repeat_mode},{track:2===this.$store.state.player.playback_state.repeat_mode}]]),onClick:t[4]||(t[4]=function(){return e.toggleRepeatMode&&e.toggleRepeatMode.apply(e,arguments)})},[Object(a["createVNode"])(i,{src:n("395a"),width:"20",height:"20"},null,8,["src"])],2)])}var B="https://api-sf.mznx.xyz",V=function(e){var t=e.method,n=B+e.path;return fetch(n,{method:t}).then((function(e){return e.json()}))},$=V,G={getUserAuthURL:function(){var e={method:"GET",path:"/auth/login"};return $(e)},checkToken:function(e){var t={method:"GET",path:"/auth/check_token?access_token=".concat(e)};return $(t)}},R={auth:G},I={init:function(e){return new Promise((function(t){window.onSpotifyWebPlaybackSDKReady=function(){var n=new window.Spotify.Player({name:"Sound Flow (Web Playback SDK)",getOAuthToken:function(t){t(e)},volume:.5});t(n)}}))},connect:function(e){return new Promise((function(t){e.addListener("ready",(function(e){t(e)})),e.connect().then((function(e){}))}))},disconnect:function(e){e.disconnect()},togglePlay:function(e){e.togglePlay()},previousTrack:function(e){e.previousTrack()},nextTrack:function(e){e.nextTrack()}},U=(n("99af"),n("e9c4"),"https://api.spotify.com/v1"),D=function(e){var t=e.method,n=U+e.path;return fetch(n,{method:t,headers:{Authorization:"Bearer "+localStorage.getItem("access_token")},body:e.body?e.body:null}).then((function(e){if(e.ok)return e.json()})).then((function(e){return e})).catch((function(){return null}))},A=D,L={getAlbum:function(e,t){var n={method:"GET",path:"/albums/".concat(e,"?market=").concat(t)};return A(n)},getAlbums:function(e,t){var n={method:"GET",path:"/albums?ids=".concat(e,"&market=").concat(t)};return A(n)},getAlbumsTracks:function(e,t,n,a){var r={method:"GET",path:"/albums/".concat(e,"/tracks?limit=").concat(t,"&offset=").concat(n,"&market=").concat(a)};return A(r)},getSavedAlbums:function(e,t,n){var a={method:"GET",path:"/me/albums?limit=".concat(e,"&offset=").concat(t,"&market=").concat(n)};return A(a)},saveAlbums:function(e){var t={method:"PUT",path:"/me/albums",body:JSON.stringify({ids:e})};return A(t)},removeAlbums:function(e){var t={method:"DELETE",path:"/me/albums",body:JSON.stringify({ids:e})};return A(t)},checkSavedAlbums:function(e){var t={method:"GET",path:"/me/albums/contains?ids=".concat(e)};return A(t)},getNewReleases:function(e,t,n){var a={method:"GET",path:"/browse/new-releases?limit=".concat(e,"&offset=").concat(t,"&country=").concat(n)};return A(a)}},M={getTrack:function(e,t){var n={method:"GET",path:"/tracks/".concat(e,"?market=").concat(t)};return A(n)},getTracks:function(e,t){var n={method:"GET",path:"/tracks?ids=".concat(e,"&market=").concat(t)};return A(n)},getSavedTracks:function(e,t,n){var a={method:"GET",path:"/me/tracks?limit=".concat(e,"&offset=").concat(t,"&market=").concat(n)};return A(a)},saveTracks:function(e){var t={method:"PUT",path:"/me/tracks",body:JSON.stringify({ids:e})};return A(t)},removeTracks:function(e){var t={method:"DELETE",path:"/me/tracks",body:JSON.stringify({ids:e})};return A(t)},checkSavedTracks:function(e){var t={method:"GET",path:"/me/tracks/contains?ids=".concat(e)};return A(t)},getTracksAudioFeatures:function(e){var t={method:"GET",path:"/audio-features?ids=".concat(e)};return A(t)},getTrackAudioFeatures:function(e){var t={method:"GET",path:"/audio-features/".concat(e)};return A(t)},getTrackAudioAnalysis:function(e){var t={method:"GET",path:"/audio-analysis/".concat(e)};return A(t)},getRecommendations:function(e){var t={method:"GET",path:"/recommendations?        limit=".concat(e.limit,"&        market=").concat(e.market,"&        max_acousticness=").concat(e.max_acousticness,"&        max_danceability=").concat(e.max_danceability,"&        max_duration_ms=").concat(e.max_duration_ms,"&        max_energy=").concat(e.max_energy,"&        max_instrumentalness=").concat(e.max_instrumentalness,"&        max_key=").concat(e.max_key,"&        max_liveness=").concat(e.max_liveness,"&        max_loudness=").concat(e.max_loudness,"&        max_mode=").concat(e.max_mode,"&        max_popularity=").concat(e.max_popularity,"&        max_speechiness=").concat(e.max_speechiness,"&        max_tempo=").concat(e.max_tempo,"&        max_time_signature=").concat(e.max_time_signature,"&        max_valence=").concat(e.max_valence,"&        min_acousticness=").concat(e.min_acousticness,"&        min_danceability=").concat(e.min_danceability,"&        min_duration_ms=").concat(e.min_duration_ms,"&        min_energy=").concat(e.min_energy,"&        min_instrumentalness=").concat(e.min_instrumentalness,"&        min_key=").concat(e.min_key,"&        min_liveness=").concat(e.min_liveness,"&        min_loudness=").concat(e.min_loudness,"&        min_mode=").concat(e.min_mode,"&        min_popularity=").concat(e.min_popularity,"&        min_speechiness=").concat(e.min_speechiness,"&        min_tempo=").concat(e.min_tempo,"&        min_time_signature=").concat(e.min_time_signature,"&        min_valence=").concat(e.min_valence,"&        seed_artists=").concat(e.seed_artists,"&        seed_genres=").concat(e.seed_genres,"&        seed_tracks=").concat(e.seed_tracks,"&        target_acousticness=").concat(e.target_acousticness,"&        target_danceability=").concat(e.target_danceability,"&        target_duration_ms=").concat(e.target_duration_ms,"&        target_energy=").concat(e.target_energy,"&        target_instrumentalness=").concat(e.target_instrumentalness,"&        target_key=").concat(e.target_key,"&        target_liveness=").concat(e.target_liveness,"&        target_loudness=").concat(e.target_loudness,"&        target_mode=").concat(e.target_mode,"&        target_popularity=").concat(e.target_popularity,"&        target_speechiness=").concat(e.target_speechiness,"&        target_tempo=").concat(e.target_tempo,"&        target_time_signature=").concat(e.target_time_signature,"&        target_valence=").concat(e.target_valence,"      ")};return A(t)}},J={getCurrentUsersProfile:function(){var e={method:"GET",path:"/me"};return A(e)},getUsersTopArtists:function(e,t,n){var a={method:"GET",path:"/me/top/artists?limit=".concat(e,"&offset=").concat(t,"&time_range=").concat(n)};return A(a)},getUsersTopTracks:function(e,t,n){var a={method:"GET",path:"/me/top/tracks?limit=".concat(e,"&offset=").concat(t,"&time_range=").concat(n)};return A(a)},getUsersProfile:function(e){var t={method:"GET",path:"/users/".concat(e)};return A(t)},followPlaylist:function(e,t){var n={method:"PUT",path:"/playlists/".concat(e,"/followers"),body:JSON.stringify({public:t})};return A(n)},unfollowPlaylist:function(e){var t={method:"DELETE",path:"/playlists/".concat(e,"/followers")};return A(t)},getFollowedArtists:function(e,t,n){var a={method:"GET",path:"/me/following?limit=".concat(e,"&after=").concat(t,"&type=").concat(n)};return A(a)},followArtistsOrUsers:function(e,t){var n={method:"PUT",path:"/me/following?type=".concat(e),body:JSON.stringify({ids:t})};return A(n)},unfollowArtistsOrUsers:function(e,t){var n={method:"DELETE",path:"/me/following?type=".concat(e),body:JSON.stringify({ids:t})};return A(n)},checkUserFollowArtistsOrUsers:function(e,t){var n={method:"GET",path:"/me/following/contains?type=".concat(e,"&ids=").concat(t)};return A(n)},checkUsersFollowPlaylist:function(e,t){var n={method:"GET",path:"/playlists/".concat(e,"/followers/contains?ids=").concat(t)};return A(n)}},K={getPlaybackState:function(){var e={method:"GET",path:"/me/player"};return A(e)},transferPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={method:"PUT",path:"/me/player",body:JSON.stringify({device_ids:[e],play:t})};return A(n)},getAvailableDevices:function(){var e={method:"GET",path:"/me/player/devices"};return A(e)},getCurrentTrack:function(){var e={method:"GET",path:"/me/player/currently-playing"};return A(e)},togglePlayback:function(e){var t={method:"PUT",path:"/me/player/play?device_id=".concat(e.device_id),body:JSON.stringify(e)};return A(t)},pausePlayback:function(e){var t={method:"PUT",path:"/me/player/pause?device_id=".concat(e)};return A(t)},nextTrack:function(e){var t={method:"POST",path:"/me/player/next?device_id=".concat(e)};return A(t)},prevTrack:function(e){var t={method:"POST",path:"/me/player/previous?device_id=".concat(e)};return A(t)},seek:function(e,t){var n={method:"POST",path:"/me/player/seek?position_ms=".concat(e,"&device_id=").concat(t)};return A(n)},setRepeatMode:function(e,t){var n={method:"PUT",path:"/me/player/repeat?state=".concat(e,"&device_id=").concat(t)};return A(n)},setVolume:function(e,t){var n={method:"PUT",path:"/me/player/volume?volume_percent=".concat(e,"&device_id=").concat(t)};return A(n)},togglePlaybackShuffle:function(e,t){var n={method:"PUT",path:"/me/player/shuffle?state=".concat(e,"&device_id=").concat(t)};return A(n)},getRecentlyPlayedTracks:function(e){var t={method:"GET",path:"/me/player/recently-played?after=".concat(e.after,"&before=").concat(e.before,"$limit=").concat(e.limit)};return A(t)},addToPlaybackQueue:function(e,t){var n={method:"POST",path:"/me/player/queue?uri=".concat(e,"&device_id=").concat(t)};return A(n)}},F={SDK:I,albums:L,tracks:M,users:J,player:K},q={backend:R,spotify:F},z=function(e){Object(h["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n)}(g["b"]);z=Object(y["a"])([Object(g["a"])({data:function(){return{}},methods:{playPause:function(){q.spotify.SDK.togglePlay(this.$store.state.player.player)},previousTrack:function(){q.spotify.SDK.previousTrack(this.$store.state.player.player)},nextTrack:function(){q.spotify.SDK.nextTrack(this.$store.state.player.player)},toggleShuffle:function(){q.spotify.player.togglePlaybackShuffle(!this.$store.state.player.playback_state.shuffle,this.$store.state.player.device_id)},toggleRepeatMode:function(){var e="";switch(this.$store.state.player.playback_state.repeat_mode){case 0:e="context";break;case 1:e="track";break;case 2:e="off";break}q.spotify.player.setRepeatMode(e,this.$store.state.player.device_id)}}})],z);var H=z;n("6de0");const W=o()(H,[["render",N],["__scopeId","data-v-3668c9ba"]]);var X=W,Q={class:"cb-playback"},Y={class:"cb-progress-time"},Z={class:"cb-progress-bar"},ee={class:"cb-progress-time"};function te(e,t,n,r,c,o){var s=Object(a["resolveComponent"])("vue-slider");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Q,[Object(a["createElementVNode"])("div",Y,Object(a["toDisplayString"])(e.msToTime(e.progress)),1),Object(a["createElementVNode"])("div",Z,[Object(a["createVNode"])(s,{modelValue:e.progress,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.progress=t}),max:e.duration,onChange:e.onProgressChange,tooltip:"none",railStyle:{background:"var(--color-control)"},processStyle:{background:"var(--color-accent)"}},null,8,["modelValue","max","onChange","railStyle","processStyle"])]),Object(a["createElementVNode"])("div",ee,Object(a["toDisplayString"])(e.msToTime(e.duration)),1)])}n("b65f");var ne=function(e){Object(h["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n)}(g["b"]);ne=Object(y["a"])([Object(g["a"])({data:function(){return{progress:0,duration:0,inverval:null}},computed:{is_playing:function(){return this.$store.state.player.playback_state.paused},context:function(){return this.$store.state.player.playback_state.context}},methods:{updateProgress:function(){var e=this;clearInterval(this.inverval),this.progress=this.$store.state.player.playback_state.position,this.$store.state.player.playback_state.paused||(this.inverval=setInterval((function(){e.progress+1e3<=e.duration&&(e.progress+=1e3)}),1e3))},onProgressChange:function(e){console.log(e),this.$store.state.player.player.seek(e)},msToTime:function(e){var t=Math.trunc(e/6e4),n=Math.trunc((e-6e4*t)/1e3),a=String(n);return n<10&&(a="0"+a),t+":"+a}},watch:{context:function(){this.duration=this.$store.state.player.playback_state.duration,this.progress=this.$store.state.player.playback_state.position},is_playing:function(){this.updateProgress()}},mounted:function(){this.duration=this.$store.state.player.playback_state.duration,this.updateProgress()}})],ne);var ae=ne;n("dee2");const re=o()(ae,[["render",te],["__scopeId","data-v-83ee0c28"]]);var ce=re,oe=function(e){Object(h["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n)}(g["b"]);oe=Object(y["a"])([Object(g["a"])({components:{ControlButtons:X,ControlPlayback:ce}})],oe);var se=oe;n("b4e8");const ie=o()(se,[["render",P],["__scopeId","data-v-206fd301"]]);var ue=ie,le=function(e){Object(h["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n)}(g["b"]);le=Object(y["a"])([Object(g["a"])({data:function(){return{loading:!0,token:null}},components:{CircleLoader:j,ControlBar:ue},methods:{run:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.connectToSpotifySDK();case 2:e.loading=!1;case 3:case"end":return t.stop()}}),t)})))()},connectToSpotifySDK:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n=setInterval(Object(m["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=e.$store.state.player.playback_state,null!==r&&(clearInterval(n),t(r));case 2:case"end":return a.stop()}}),a)}))))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=document.createElement("script"),a.src="https://sdk.scdn.co/spotify-player.js",a.async=!0,document.body.appendChild(a),t.next=7,q.spotify.SDK.init(e.token);case 7:return r=t.sent,r.addListener("player_state_changed",(function(t){e.$store.commit("setPlaybackState",t)})),t.next=11,q.spotify.SDK.connect(r);case 11:return c=t.sent,e.$store.commit("setPlayer",r),e.$store.commit("setDeviceID",c.device_id),t.next=16,q.spotify.player.transferPlayback(e.$store.state.player.device_id);case 16:return t.next=18,n();case 18:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.token=localStorage.getItem("access_token"),t.next=3,q.backend.auth.checkToken(e.token);case 3:n=t.sent,n&&"ok"===n.status?e.run():e.$router.push({name:"Login"});case 5:case"end":return t.stop()}}),t)})))()}})],le);var pe=le;n("1259");const de=o()(pe,[["render",d],["__scopeId","data-v-c4d7dec0"]]);var me=de,fe=function(e){return Object(a["pushScopeId"])("data-v-a1000ac4"),e=e(),Object(a["popScopeId"])(),e},be={class:"login"},he=fe((function(){return Object(a["createElementVNode"])("h1",null,"Пожалуйста, авторизуйтесь через Spotify.",-1)}));function ve(e,t,n,r,c,o){var s=Object(a["resolveComponent"])("CircleLoader");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[this.process?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0})):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",be,[he,Object(a["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(){return e.login&&e.login.apply(e,arguments)}),class:"btn"},"Войти")])],64)}n("9911");var ye=function(e){Object(h["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n)}(g["b"]);ye=Object(y["a"])([Object(g["a"])({data:function(){return{process:!1}},components:{CircleLoader:j},methods:{login:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=document.querySelector(".login h1"),a=document.querySelector(".login button"),n&&a&&(n.style.transform="translateX(-100vw)",a.style.transform="translateX(100vw)"),e.process=!0,t.next=6,q.backend.auth.getUserAuthURL();case 6:r=t.sent,r.state&&(localStorage.setItem(r.state_key,r.state),c=window.open(r.link,"Login with Spotify","width=800,height=600"),c&&window.addEventListener("message",(function(t){var n=t.data;switch(n.status){case"ok":e.$router.push({name:"Home"});break;default:console.log("switch (data.status): default")}}),!1));case 8:case"end":return t.stop()}}),t)})))()},checkToken:function(){return Object(m["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("access_token"),!t){e.next=7;break}return e.next=4,q.backend.auth.checkToken(t);case 4:if(n=e.sent,!n||"ok"!==n.status){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})))()}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkToken();case 2:n=t.sent,n&&e.$router.push({name:"Home"});case 4:case"end":return t.stop()}}),t)})))()}})],ye);var ge=ye;n("411c");const ke=o()(ge,[["render",ve],["__scopeId","data-v-a1000ac4"]]);var _e=ke,Oe={class:"callback"};function je(e,t,n,r,c,o){var s=Object(a["resolveComponent"])("CircleLoader");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Oe,[Object(a["createVNode"])(s)])}var Te=function(e){Object(h["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(b["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n)}(g["b"]);Te=Object(y["a"])([Object(g["a"])({components:{CircleLoader:j},mounted:function(){var e=this.$route.query;e&&e.access_token?(localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token),window.opener.postMessage({status:"ok"})):e.error?window.opener.postMessage({status:e.error}):window.opener.postMessage({status:"invalid query"}),localStorage.removeItem("spotify_auth_state"),window.close()}})],Te);var we=Te;n("6bad");const xe=o()(we,[["render",je],["__scopeId","data-v-33337956"]]);var Se=xe,Ee=[{path:"/",name:"Home",component:me},{path:"/login",name:"Login",component:_e},{path:"/callback",name:"Callback",component:Se}],Pe=Object(l["a"])({history:Object(l["b"])(),routes:Ee}),Ce=Pe,Ne=n("6d5e"),Be=n.n(Ne),Ve=n("4971"),$e=n.n(Ve),Ge=(n("24df"),n("5502")),Re={player:null,device_id:null,playback_state:null};function Ie(e){return e.player}function Ue(e){return e.device_id}function De(e){return e.playback_state}var Ae={getPlayer:Ie,getDeviceID:Ue,getPlaybackState:De};function Le(e,t){e.player=t}function Me(e,t){e.device_id=t}function Je(e,t){e.playback_state=t}var Ke={setPlayer:Le,setDeviceID:Me,setPlaybackState:Je},Fe={},qe={state:Re,getters:Ae,mutations:Ke,actions:Fe},ze=Object(Ge["a"])({state:{},mutations:{},actions:{},modules:{player:qe}});Object(a["createApp"])(u).use(Ce).use(ze).component("inline-svg",Be.a).component("VueSlider",$e.a).mount("#app")},ce1e:function(e,t,n){e.exports=n.p+"img/control-forward.0892bb3f.svg"},d08e:function(e,t,n){e.exports=n.p+"img/control-play.2f25944e.svg"},dd7f:function(e,t,n){e.exports=n.p+"img/control-pause.e75d8a30.svg"},ddc6:function(e,t,n){},dee2:function(e,t,n){"use strict";n("4264")}});
//# sourceMappingURL=app.8ff2ac7e.js.map